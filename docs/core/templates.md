---
title: Шаблоны
layout: home
parent: Архитектура
nav_order: 5
---
# Шаблоны в osysHome
Шаблоны представляют собой HTML-код с использованием синтаксиса **Jinja2**, который определяет как объекты отображаются в веб-интерфейсе. Каждый шаблон содержит:

* **HTML-разметку** - структуру отображения объекта
* **Переменные Jinja2** - динамические данные объекта
* **Условную логику** - отображение в зависимости от состояния
* **Стили CSS** - оформление внешнего вида

## Система наследования шаблонов
### Загрузка шаблонов по иерархии классов
При создании объекта система рекурсивно собирает шаблоны от всех родительских классов.

### Приоритет шаблонов
При рендеринге система ищет шаблон в следующем порядке:

1. Шаблон самого объекта
2. Шаблон класса объекта
3. Шаблоны родительских классов (по иерархии)

## Рендеринг шаблонов
### Механизм рендеринга
Система использует **Jinja2** для обработки шаблонов с доступом к данным объекта.

## Доступные переменные в шаблонах
В шаблонах доступны следующие переменные:

* **object** - ссылка на сам объект со всеми свойствами
* **getProperty()** - глобальная функция для получения свойств других объектов

## Практические примеры шаблонов
### Шаблон класса Users
В системе есть встроенный шаблон для отображения пользователей
```html
<div class="row">  
    {% if object.image %}  
    <img class="col pe-0" src="{{object.image}}" style="width:auto;height:80px;object-fit:contain;" alt="{{object.name}}">  
    {% endif %}  
    <div class="col-auto">  
        <h5 class="m-1">{{object.description}}</h5>  
        Role: <b>{{object.role}}</b><br>  
        Login: {{object.lastLogin}}  
    </div>  
</div>
```
### Шаблоны в веб-интерфейсе
Система также использует шаблоны для отображения страниц интерфейса, например панель управления: control_panel.

## Интеграция с веб-интерфейсом
### Виджеты плагинов
Плагины могут предоставлять свои шаблоны через метод widget()

### Отображение в панели управления
Шаблоны виджетов отображаются в панели управления через систему рендеринга

## Для чего используются шаблоны
1. **Визуализация объектов** - отображение состояния и свойств устройств
2. **Пользовательский интерфейс** - создание интерактивных элементов управления
3. **Информационные панели** - показ статистики и мониторинга
4. **Настраиваемое отображение** - адаптация внешнего вида под потребности
5. **Интеграция данных** - объединение информации из разных источников

## Преимущества системы шаблонов
1. **Наследование** - переиспользование общих элементов оформления
2. **Гибкость** - возможность создания уникального отображения для каждого класса
3. **Динамичность** - автоматическое обновление при изменении данных
4. **Безопасность** - автоматическое экранирование HTML
5. **Производительность** - кэширование скомпилированных шаблонов


>Шаблоны в osysHome обеспечивают гибкую систему отображения объектов с поддержкой наследования, что позволяет создавать единообразный и настраиваемый пользовательский интерфейс. Система автоматически управляет рендерингом и обеспечивает безопасность через механизмы Jinja2.