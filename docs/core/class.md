---
title: Классы
layout: home
parent: Архитектура
nav_order: 1
---

# Классы в osysHome
Классы в osysHome представляют собой шаблоны или чертежи для создания объектов. Они определяют:

* Структуру данных - какие свойства будут у объектов этого класса
* Поведение - какие методы могут выполнять объекты
* Внешний вид - как объекты отображаются в интерфейсе через шаблоны
* Наследование - как классы могут расширять функциональность других классов

## Для чего используются классы

1. Организация объектов по типам
Классы позволяют группировать похожие устройства и сущности. Например, все датчики температуры могут принадлежать классу "TemperatureSensor", все лампы - классу "Light", все пользователи - классу "Users".

2. Переиспользование кода и настроек
Вместо создания свойства "temperature" для каждого датчика отдельно, вы определяете его один раз в классе, и все объекты этого класса автоматически получают это свойство.

3. Иерархическое наследование
Классы поддерживают наследование через поле parent_id, что позволяет создавать иерархии типа "Device" → "Sensor" → "TemperatureSensor".

4. Единообразное отображение
Каждый класс может иметь свой HTML-шаблон, определяющий как объекты этого класса отображаются в веб-интерфейсе.

### Практические примеры использования
Класс для устройств освещения

```python
# Создаем базовый класс для всех устройств  
device_class = addClass("Device", "Base device class")    
# Создаем специализированный класс для освещения  
light_class = addClass("Light", "Lighting device", device_class['id'])  
  
# Добавляем общие свойства для всех ламп  
addClassProperty("brightness", "Light", "Brightness level", type=PropertyType.Int)  
addClassProperty("state", "Light", "On/Off state", type=PropertyType.Bool)
Класс для датчиков
# Создаем класс датчиков, наследующий от Device  
sensor_class = addClass("Sensor", "Sensor device", device_class['id'])  
  
# Добавляем метод для обработки изменений значений  
addClassMethod("onValueChange", "Sensor", "Handle value changes",   
               'logger.info(f"Sensor {self.name} value changed to {params}")')
```
## Как работает система классов
При создании объекта система автоматически:

* Загружает свойства - рекурсивно собирает все свойства от текущего класса и всех родительских классов
* Загружает методы - собирает методы с учетом иерархии наследования
* Применяет шаблоны - определяет как объект будет отображаться в интерфейсе
* Устанавливает разрешения - применяет правила доступа на основе класса

### Получение объектов по классу
Система предоставляет удобные способы работы с объектами определенного класса:
```python
# Получить все объекты класса "Light"  
lights = getObjectsByClass("Light")  
  
# Получить объекты класса включая дочерние классы  
all_devices = getObjectsByClass("Device", subclasses=True)
```

>Классы в osysHome обеспечивают объектно-ориентированный подход к управлению умным домом, позволяя создавать масштабируемые и поддерживаемые конфигурации. Система автоматически применяет изменения в классах ко всем существующим объектам через механизм перезагрузки. 