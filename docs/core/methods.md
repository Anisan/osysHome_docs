---
title: Методы
layout: home
parent: Архитектура
---
# Методы в osysHome
Методы представляют собой именованные функции, которые управляются через класс **MethodManager**.Каждый метод содержит:

* **Имя** - уникальный идентификатор метода
* **Описание** - человекочитаемое описание назначения
* **Python код** - исполняемый код метода
* **Параметр наследования** - управляет порядком выполнения в иерархии классов
* **Статистику выполнения** - количество вызовов, время выполнения, результаты

## Создание и управление методами

### Добавление методов к классам
Функция **addClassMethod()** создает метод для всех объектов класса.

### Добавление методов к объектам
Функция **addObjectMethod()** создает индивидуальный метод для конкретного объекта

## Выполнение методов
### Основной механизм выполнения
Метод **callMethod()** выполняет код метода в контролируемой среде

При выполнении метода система предоставляет следующие переменные:

* **self** - ссылка на ObjectManager
* **params** - параметры метода
* **logger** - экземпляр логгера для записи сообщений
* **source** - источник вызова метода

### Наследование и сортировка методов
Система поддерживает сложную логику наследования методов через параметр call_parent

* **call_parent = None** или **-1** - добавляется в конец списка
* **call_parent = 0** - заменяет все предыдущие методы
* **call_parent = 1** - вставляется перед последним методом

## Загрузка методов при создании объекта
При создании объекта система загружает методы рекурсивно по иерархии классов

Методы группируются по имени и сортируются согласно правилам наследования, что позволяет дочерним классам переопределять или дополнять поведение родительских методов.

## REST API для работы с методами
Система предоставляет REST API для управления методами:

### Получение списка методов объекта
Endpoint **/api/method/list/<object_name>** возвращает все методы объекта

### Вызов методов через API
Endpoint **/api/method/call** позволяет выполнять методы удаленно

## Практические примеры использования
### Системные методы
В системе есть встроенные методы, например для обработки запуска системы.

### Методы с таймаутом
Система поддерживает отложенное выполнение методов.

## Для чего используются методы
1. **Автоматизация** - выполнение действий при изменении свойств
2. **Управление устройствами** - включение/выключение, изменение настроек
3. **Обработка событий** - реакция на внешние события и изменения
4. **Интеграция** - взаимодействие с внешними системами и модулями
5. **Логика системы** - реализация сложных алгоритмов управления

## Статистика и мониторинг
Система автоматически отслеживает статистику выполнения методов.
Статистика включает количество выполнений, время последнего выполнения, время выполнения и параметры вызова.

>Методы в osysHome обеспечивают исполняемую логику системы, позволяя объектам реагировать на события, управлять устройствами и выполнять сложные операции. Система автоматически управляет правами доступа, статистикой выполнения и интеграцией с внешними модулями для каждого метода.